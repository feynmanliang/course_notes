\lecture{3}{2020-01-28}{}

\begin{theorem}[Extension to Radon measure]
  \label{thm:extend-tight-to-radon}
  Suppose an algebra $\cA$ of subsets of topological space $X$
  contains a base of the topology.
  Let $\mu$ be a regular additive set function of bounded variation on $\cA$.
  If $\mu$ is tight, then it admits a unique extension to a Radon measure on
  $X$.
\end{theorem}

\begin{proof}
  V.I. Bogachev, ``Measure Theory'' Theorem 7.3.2
\end{proof}

Tightness is important because it says the whole space is inner approximable by
a compact set.

\begin{corollary}
  Let $X$ be a completely regular spaace.
  Then every tight Baire measure $\mu$ on $X$
  admits a unique extensino to a Radon measure.
\end{corollary}

\begin{proof}
  Every Baire measure is regular by \cref{corr:baire-measure-regular},
  and since $X$ is completely regular, functionally open sets form a
  base of the topology. Apply \cref{thm:extend-tight-to-radon}.
\end{proof}

This allows us to extend measures on the Baire $\sigma$-field to measures
on the Borel $\sigma$-field.

\begin{definition}
  A \emph{vector lattice of functions} is a linear space of
  real functions on a nonempty set $\Omega$ such that
  $\max(f,g) \in \cF$ for all $f,g \in \cF$.

  Notice $\min(f,g) = \max(-f,-g) \in \cF$ and $\lvert f \rvert \in \cF$.
\end{definition}

\begin{theorem}[Daniell integration]
  Let $\cF$ be a vector lattice of functions on a set $\Omega$
  such that $\ind \in \cF$.
  Let $L$ be a linear functional on $\cF$ with:
  \begin{itemize}
    \item $L(f) \geq f$ for all $f \geq 0$ (positive)
    \item $L(\ind) = 1$
    \item $L(f_n) \to 0$ for every $f_n \downarrow 0$
  \end{itemize}
  Then there exists a unique probability measure $\mu$ on
  $\cA = \Sigma(\cF)$ generated by $\cF$ such that
  $\cF \subset \cL^1(\mU)$ and
  \[
    L(f) = \int_\Omega f d\mu,\qquad \forall f \in \cF
  \]
\end{theorem}

\begin{note}{Compare this with Riesz representation theorem}
  For $X$ a compact space, $L$ linear functional on $\cC(X)$
  with $L(\ind) = 1$ and $L(f) \geq 0$ for $f \geq 0$
  (positive linear functional),
  then $L(f) = \int_X f d\mu$
  with unique regular Borel probability measure $\mu$ on $X$.

  The relation is through Dini's theorem: If $\{f_n\} \subset \cC(X)$,
  $X$ compact, and $f_n(x) \downarrow 0$,
  then $\lim_{n \to \infty} \sup_{x \in X} f_n(x) = 0$.
\end{note}

\begin{proof}
  Denote $\cL^+$ the set of all bounded functions $f$
  of the form $f(x) = \lim_{n \to \infty} f_n(x)$, where
  $f_n \in \cF$ are nonegative and increasing.
  $\{f_n\}$ is uniformly bounded, hence $\{L(f_n)\}$
  is increasing and bounded by properties of $L$

  Let $L(f) = \lim_n L(f_n)$.
  We show that the extended functional is well-defined, coincides
  on bounded nonnegative functions in $\cF$ with the original functional,
  and possesses the following properties:
  \begin{enumerate}
    \item $L(f) \leq L(g)$ for all $f,g \in \cL^+$ with $f \leq g$
    \item $L(f + g) = L(f) + L(g)$, $L(cf) = c L(f)$ for all $c \in [0, +\infty)$
    \item $\min(f,g) \in \cL^+$, $\max(f,g) \in \cL^+$, and
      \[
	L(f) + L(g) = L(\min(f,g)) + L(\max(f,g))
      \]
    \item $\lim_n f_n \in \cL^+$ for every uniformly bounded
      increasing sequence of functions $f_n \in \cL^+$,
      and $L(\lim_n f_n) = \lim_n L(f_n)$.
  \end{enumerate}

  Let $\{f_n\}$ and $\{g_k\}$ be two increasing sequences of nonnegative
  functions in $\cF$ with $\lim_n f_n \leq \lim_k g_k$. By linearity and
  positivity of $L$, $\lim_n L(f_n) \leq \lim_n L(g_k)$ proving (1).

  From the hypotheses of the theorem if $\psi_m \uparrow \psi \in \cF$
  are all nonnegative functions then $L(\psi_m) \to L(\psi)$ again
  through linearity: $L(\psi) - L(\psi_m) = L(\psi - \psi_m) \to L(0) = 0$
  proving (2).

  To verify (4), suppose $f_{k,n} \uparrow f_n \in \cL^+$.
  Let $g_m = \max_{n \leq m} f_{m,n}$, so $g_m \in \cF$ increasing
  and $f_{m,n} \leq g_m \leq f_m$ for $n \leq m$.
  Therefore $\lim_m f_m = \lim_m g_m \in \cL^+$ and
  by linearity for $n \leq m$
  \[
    L(g_m) \leq L(g_{m+1}), \qquad L(f_{m,n}) \leq L(g_m) \leq L(f_m)
  \]
  Hence $\lim_m L(f_m) = \lim_m L(g_m) = L(\lim_m g_m) = L(\lim_m f_m)$

  \begin{figure}[H]
    \centering
    \incfig{sketch-of-proof-of-4}
    \caption{sketch of proof of 4}
    \label{fig:sketch-of-proof-of-4}
  \end{figure}

  Denote by $\cG$ the class of all sets $G$ with $\ind_{G} \in \cL^+$,
  and for $G \in \cG$ define $\mu(G) = L(\ind_{G})$.
  Observe that min/max convert to indicators, so by (3) the class
  $\cG$ is closed wrt finite intersection/union, and hence by countable
  union by (4).

  Furthermore, $\mu$ is nonnegative monotone additive function on $\cG$,
  with inclusion-exclusion, and $\mu(G_n) \uparrow \mu(G)$.

  According to (TODO: Ref: thm 20) and closure of $\cG$ under countable union,
  the function
  \[
    \mu^*(A) = \inf\{\mu(G) : G \in \cG, A \subset G\}
  \]
  is countably additive measure on the class
  \[
    \cB = \{B \subset \Omega: \mu^*(B) + \mu^*(\Omega \setminus B) = 1\}
  \]
  \begin{note}{Uncertain about above theorem}
    Should check details of section 1.5 Borgachev
  \end{note}

  For (iii) we verify $\cA = \sigma(\cF) \subset \cB$. If $f \in \cL^+$, then
  $\{f > g\} \in \cG$ for all $c$ since
  \[
    \ind\{f > c\} = \lim_n \min(1, n \max(f - c, 0))
  \]
  Hence $f \in \cL^+$ are measurable wrt $\sigma(\cG)$, but they are also
  measurable wrt $\sigma(\cF)$ (since they are monotone limits of things in
  $\cF$), so $\cG \subset \sigma(\cL^+) = \sigma(\cF)$ and by Dynkin
  $\pi$-$\lambda$ we have $\sigma(\cG) = \sigma(\cF) = \cA$. Thus, it suffices
  to show $\cG \subset \cB$.

  For $G \in \cG$, let $f_n \uparrow \ind_{G}$ so
  \[
    \mu^*(G) = \mu(G) = \lim_{n \to \infty} L(f_n)
  \]
  and since $\mu^*(G) + \mu^*(\Omega \setminus G) \geq 1$, to show
  $G \in \cB$ it suffices to prove $\mu^*(G) + \mu^*(\Omega \setminus G) \leq 1$
  i.e.
  \[
    \mu^*(\Omega \setminus G) \leq \lim_n L(\ind - f_n)
  \]
  But since $\ind - f_n \downarrow \ind_{\Omega \setminus G}$
  and $U_c = \{1 - f_n > c\}$ contains $\Omega \setminus G$
  hence belongs to $\cG$, therefore
  \begin{align*}
    \ind_{U_c} &\leq c^{-1}(\ind - f_n) \\
    \mu^*(\Omega \setminus G) \leq \mu(U_c) &= L(\ind_{U_c}) \leq c^{-1} L(1 - f_n)
  \end{align*}
  Take $c \to 1$ and $n \to \infty$.

  It remains to prove $\cF \subset \cL^1(\mu)$ and that
  $L(f) = \int_\Omega f d\mu$. Approximate $f \in \cL^+$ with $f \leq 1$
  by simple functions
  \begin{align*}
    f_n &= \sum_{j=1}^{2^n - 1} j 2^{-n} \ind\{j 2^{-n} < x < (j+1) 2^{-n}\} \\
    L(f_n) &= \sum_{j=1}^{2^n - 1} j 2^{-n} \mu\{j 2^{-n} < x < (j+1) 2^{-n}\}
  \end{align*}
  Hence
  \[
    L(f_n) = \int_\Omega f_n d\mu
  \]
  TODO: finish

  The uniqueness of $\mu$ satisfying ?? follows from the fact that it is
  uniquely determined on the class $\cG$, which is closed wrt finite
  intersections and generates $\cA$.
\end{proof}


